Improved cross-platform path handling and added path audit to pre-commit.
